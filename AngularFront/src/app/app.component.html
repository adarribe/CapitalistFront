<style>
  * {
  border: 1px solid red;
  }
</style>

<div class="body" >
<div class="container-fluid">
  <div class="row">

    <div class="col-md-3"><span>Votre identifiant </span>
    <input type="text" style="width: 160px; padding-left: 12px;" 
            [(ngModel)]="username" (change)="onUsernameChanged()" />
            </div>
  </div>

  <div class="row align-items-center">
    <div class="col-md-1" colonne-centree><span id="worldimage"><img src="http://localhost:8080/world.png" class="round" /> </span></div>
    <div class="col-md-3" colonne-centree><span id="worldname">Nom du monde : {{world.name}}</span></div>
    <div class="col-md-3" colonne-centree><span id="worldscore">Votre score: {{world.score}}</span></div>
    <div class="col-md-3" colonne-centree><span>Votre argent: $</span><span id=worldmoney [innerHTML]="world.money | bigvalue"></span></div>
    <div class="col-md-2" colonne-centree><button class="btn1" *ngIf="qtmulti!=999" id="multbutton" (click)="multFun()">Acheter <span>x{{qtmulti}}</span></button>
                          <button class="btn1" *ngIf="qtmulti==999" id="multbutton" (click)="multFun()">Acheter Max</button></div>
    </div>
    <div class="row">
      <div class="col-md-12"> 
        <img src="http://localhost:8080/boum.png" class="round" />
      </div>
      <div class="col-md-12"> Bienvenue {{username}}</div>
      </div>
        <div class="col-md-2">
          <div class="list-group">
            <div  data-toggle="modal" (click)="managersModal.show()" ></div>
            <button class="btn1" mat-raised-button color="primary" [matBadge]="badgeManagers" [matBadgeHidden]="badgeManagers==0" matBadgePosition="before" class="buttonleft btn btn-primary btn-lg" data-toggle="modal" (click)="managersModal.show()" >Managers </button>  
            <div class="buttonleft btn btn-primary btn-lg" data-toggle="modal" (click)="unlocksModal.show()" >Unlocks</div>
            <div class="btn1" mat-raised-button color="primary" [matBadge]="badgeCashUpgrades" matBadgePosition="before" class="buttonleft btn btn-primary btn-lg" data-toggle="modal" (click)="cashupgradesModal.show()" >Cash Upgrades</div>
            <!-- <div class="buttonleft btn btn-primary btn-lg" data-toggle="modal" (click)="angelupgradesModal.show()" >Angel Upgrades</div>-->
          </div>
        </div>
        <div class="col-md-10">         
          <app-product [prod]="world.products.product[0]" [money]="world.money" [qtmulti]="qtmulti" (notifyProduction)="onProductionDone($event)" (notifyMoney)="onBuy($event)"></app-product>
          <app-product [prod]="world.products.product[1]" [money]="world.money" [qtmulti]="qtmulti" (notifyProduction)="onProductionDone($event)" (notifyMoney)="onBuy($event)" ></app-product>
          <app-product [prod]="world.products.product[2]" [money]="world.money" [qtmulti]="qtmulti" (notifyProduction)="onProductionDone($event)" (notifyMoney)="onBuy($event)"></app-product>
          <app-product [prod]="world.products.product[3]" [money]="world.money" [qtmulti]="qtmulti" (notifyProduction)="onProductionDone($event)" (notifyMoney)="onBuy($event)"></app-product>
          <app-product [prod]="world.products.product[4]" [money]="world.money" [qtmulti]="qtmulti" (notifyProduction)="onProductionDone($event)" (notifyMoney)="onBuy($event)"></app-product>
          <app-product [prod]="world.products.product[5]" [money]="world.money" [qtmulti]="qtmulti" (notifyProduction)="onProductionDone($event)" (notifyMoney)="onBuy($event)"></app-product>
        </div>

        <app-modal #managersModal>
          <div class="app-modal-header">
            <h4 class="modal-title">Managers make you feel better !</h4>
            </div>
            <div class="app-modal-body">
              <div *ngFor="let manager of world.managers.pallier">
                <div class="row">
                <div class="col-md-1">
                  <img [attr.src]="server+manager.logo" class="littleround"/> 
                </div>
                <div class="col-md-2">
                    <span>{{manager.name}}</span>
                </div>
                <div class="col-md-3">
                    <span>{{manager.seuil}}</span>
                </div>
                <div class="col-md-2">
                  <button class="btn" type="button" (click)="buyManager(manager)" (click)="popMessage('Manager embauchÃ© !')">Acheter</button>
              </div>
              </div>
              </div>
            </div>
            <div class="app-modal-footer">
            <button class="btn1" type="button" (click)="managersModal.hide()">Close</button>
            </div>
         </app-modal>

         <app-modal #unlocksModal>
          <div class="app-modal-header">
            <h4 class="modal-title">Want to maximize profits ? Get your investments to these quotas !</h4>
          </div>
          <div class="app-modal-body">
              <div *ngFor="let unlock of world.allunlocks.pallier">
                <div class="row">
                  <div class="col-md-1">
                    <img [attr.src]="server+unlock.logo" class="littleround"/> 
                  </div>
                  <div class="col-md-5">
                    <span>{{unlock.typeratio}}</span>
                  </div>
                  <div class="col-md-3">
                    <span>x{{unlock.ratio}}</span>
                  </div>
                  <div class="col-md-3">
                    <span>{{unlock.seuil}}</span>
                  </div>
                </div>
              </div>
            </div>
          <div class="app-modal-footer">
            <button class="btn1" type="button" (click)="unlocksModal.hide()">Close</button>
          </div>
        </app-modal>

        <app-modal #cashupgradesModal>
          <div class="app-modal-header">
            <h4 class="modal-title">Boost your investments !</h4>
          </div>
          <div class="app-modal-body">
            <div *ngFor="let upgrade of world.upgrades.pallier">
              <div class="row">
                <div class="col-md-1">
                  <img [attr.src]="server+upgrade.logo" class="littleround"/> 
                </div>
                <div class="col-md-5">
                  <span>{{upgrade.name}}</span>
                </div>
                <div class="col-md-3">
                  <span>{{upgrade.typeratio}}</span>
                </div>
                <div class="col-md-3">
                  <span>{{upgrade.seuil}}</span>
                </div>
                <div class="col-md-2">
                  <button class="btn" (click)="buyCashUpgrade(upgrade)">Acheter</button>
              </div>
              </div>
            </div>
          </div>
          <div class="app-modal-footer">
            <button class="btn1" type="button" (click)="cashupgradesModal.hide()">Close</button>
          </div>
        </app-modal>
</div>
</div>
