
<!-- <style>
  * {
  border: 1px solid red;
  }
</style> -->

<div class="body" >
<div class="container-fluid">
  <div class="row">
    <div class="col-md-2"> Bienvenue  {{username}}
    </div>
    <div class="col-md-3"><span>Votre identifiant       </span>
    <input type="text" style="width: 160px; padding-left: 12px;" 
            [(ngModel)]="username" (change)="onUsernameChanged()" />
            </div>
  </div>
  <div class="row">
    <div class="col-md-1"><span id="worldimage"><img src="http://localhost:8080/world.png" class="round" /> </span></div>
    <div class="col-md-3"><span id="worldname">Nom du monde : {{world.name}}</span></div>
    <div class="col-md-3"><span id="worldscore">Votre score: {{world.score}}</span></div>
    <div class="col-md-3"><span>Votre argent: $</span><span id=worldmoney [innerHTML]="world.money | bigvalue"></span></div>
    <div class="col-md-2"><button class="btn1" *ngIf="qtmulti!=999" id="multbutton" (click)="multFun()">Acheter <span>x{{qtmulti}}</span></button>
                          <button class="btn1" *ngIf="qtmulti==999" id="multbutton" (click)="multFun()">Acheter Max</button></div>
    
    </div>
    
        <div class="col-md-2">
          <div class="list-group">
            <div  data-toggle="modal" (click)="managersModal.show()" >Managers</div>
            <button class="btn1" mat-raised-button color="primary" [matBadge]="badgeManagers" [matBadgeHidden]="badgeManagers==0" matBadgePosition="before" class="buttonleft btn btn-primary btn-lg" data-toggle="modal" (click)="managersModal.show()" >Managers</button>  
            <!-- <div class="buttonleft btn btn-primary btn-lg" data-toggle="modal" (click)="unlocksModal.show()" >Unlocks</div>
            <div class="buttonleft btn btn-primary btn-lg" data-toggle="modal" (click)="cashupgradesModal.show()" >Cash Upgrades</div>
            <div class="buttonleft btn btn-primary btn-lg" data-toggle="modal" (click)="angelupgradesModal.show()" >Angel Upgrades</div>
            <div class="buttonleft btn btn-primary btn-lg" data-toggle="modal" (click)="investorsModal.show()" >Investors</div>-->
          </div>
        </div>
        <div class="col-md-10">         
          <app-product [prod]="world.products.product[0]" [money]="world.money" [qtmulti]="qtmulti" (notifyProduction)="onProductionDone($event)" (notifyMoney)="onBuy($event)"></app-product>
          <app-product [prod]="world.products.product[1]" [money]="world.money" [qtmulti]="qtmulti" (notifyProduction)="onProductionDone($event)" (notifyMoney)="onBuy($event)" ></app-product>
          <app-product [prod]="world.products.product[2]" [money]="world.money" [qtmulti]="qtmulti" (notifyProduction)="onProductionDone($event)" (notifyMoney)="onBuy($event)"></app-product>
          <app-product [prod]="world.products.product[3]" [money]="world.money" [qtmulti]="qtmulti" (notifyProduction)="onProductionDone($event)" (notifyMoney)="onBuy($event)"></app-product>
          <app-product [prod]="world.products.product[4]" [money]="world.money" [qtmulti]="qtmulti" (notifyProduction)="onProductionDone($event)" (notifyMoney)="onBuy($event)"></app-product>
          <app-product [prod]="world.products.product[5]" [money]="world.money" [qtmulti]="qtmulti" (notifyProduction)="onProductionDone($event)" (notifyMoney)="onBuy($event)"></app-product>
        </div>

        <app-modal #managersModal>
          <div class="app-modal-header">
          <h4 class="modal-title">Managers make you feel better !</h4>
          </div>
          <div class="app-modal-body">
            <div *ngFor="let manager of world.managers.pallier">
              <!--<div class="col-md-4">
                <span><img [attr.src]="server+manager.logo" class="round"/> </span>
              </div>-->
              <div class="col-md-5">
                  <span>{{manager.name}}</span>
              </div>
              <div class="col-md-5">
                  <span>{{manager.seuil}}</span>
              </div>
                  <button class="btn" type="button" (click)="buyManager(manager)" (click)="popMessage('Manager embauchÃ© !')">Acheter</button>
            </div>
          </div>
          <div class="app-modal-footer">
          <button type="button" class="btn btn-default" (click)="managersModal.hide()">Close</button>
          </div>
         </app-modal>
</div>
</div>
